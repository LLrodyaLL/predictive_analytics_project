# WB Product Ranking and Recommendation System

## Описание проекта

Данный проект представляет собой backend-сервис для анализа и ранжирования карточек товаров Wildberries с использованием данных из API Wildbox и модели машинного обучения.

Сервис позволяет:
- получать информацию о товаре по артикулу, региону и поисковому запросу;
- рассчитывать признаки, влияющие на позицию товара;
- выдавать интерпретируемые рекомендации по улучшению позиции;
- генерировать объяснения на основе библиотеки SHAP.

---

## Основной функционал

1. Получение информации о товаре из API Wildbox.
2. Вычисление логистических и региональных признаков товара.
3. Прогноз позиции товара на основе модели CatBoost.
4. Объяснение прогноза с помощью SHAP.
5. Формирование рекомендации по продвижению товара.

---

## Модель машинного обучения

Используется модель CatBoost, обученная предсказывать позицию товара на основании следующих признаков:

- логистика (среднее время доставки по регионам);
- видимость в целевых округах;
- региональное покрытие;
- свойства карточки товара (цена, бренд, наличие и др.).

Для интерпретации предсказания применяется библиотека `SHAP`, которая рассчитывает вклад каждого признака в итоговое значение. Это позволяет сформировать точечные рекомендации по улучшению позиции товара в поисковой выдаче.

---
### Структура проекта:
```
├── frontend/         # Веб-интерфейс (Vue.js)
├── history/          # История запросов: сохранённые CSV и JSON
├── server.py         # Основной сервер FastAPI
├── parsing.py        # Модуль для сбора данных с API Wildbox
├── recomendation.py  # Генерация рекомендаций по CSV
├── requirements.txt  # Python-зависимости проекта
└── README.md         # Документация проекта
```
---
##  Инструкция по запуску проекта

###  Требования

- Python 3.11
- Node.js и npm

---

###  Запуск frontend'а

1. Перейдите в папку `frontend`:

```bash
cd frontend
```
2. Установите зависимости:
```bash
npm install vue axios element-plus
npm install
```

3. Запустите сервер разработки:
```bash
npm run dev
```
В консоли отобразится адрес (обычно: http://localhost:5173), по которому будет доступен веб-интерфейс.

### Запуск backend-сервера

1. Активируйте виртуальное окружение:
```bash
.\venv311\Scripts\activate       # Windows
# или
source venv311/bin/activate      # Unix-системы
```
2. Запустите FastAPI-сервер:
```bash
uvicorn server:app --reload
```
---

## Использование (со стороны пользователя)

Интерфейс позволяет выполнить следующие действия:

1. Указать артикул товара, выбрать регион и ввести поисковый запрос.
2. Получить данные по товару.
3. Просмотреть рекомендации по продвижению, нажав соответствующую кнопку.
4. Для сброса состояния интерфейса — перезагрузить страницу.
